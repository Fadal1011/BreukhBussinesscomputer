<div class="box1 w-full flex justify-between items-center border-b-purples border-b-2 p-3">
  <div class="image rounded-full w-25 h-25">
    <img
      class="rounded-full w-20 h-20"
      src="../../assets/bbc.png"
      alt="image description"
    />
  </div>

  <div class="stock">
    <button type="button" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-purples rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
      stock
      <span class="inline-flex items-center justify-center w-4 h-4 ml-2 text-xs font-semibold text-purples bg-blue-200 rounded-full">
        10
      </span>
    </button>
  </div>
</div>


  <div class="relative overflow-x-auto shadow-md sm:rounded-lg m-5">
    <table class="w-full text-sm text-left bg-purples text-gray-500 dark:text-gray-400 mt-2">
        <thead class="text-xs text-white uppercase bg-purples dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">
                    <span class="sr-only">Image</span>
                </th>
                <th scope="col" class="px-6 py-3">
                    Produit
                </th>
                <th scope="col" class="px-6 py-3">
                    Quantité
                </th>
                <th scope="col" class="px-6 py-3">
                    Prix
                </th>
                <th scope="col" class="px-6 py-3">
                    Action
                </th>
            </tr>
        </thead>
        <tbody class="max-h-5 overflow-y-scroll">
            <tr *ngFor="let produitCommande of tabAfficheCommande" class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 app-item-commande"[produitCommande]="produitCommande">
            </tr>
          </tbody>
    </table>
  </div>



<form action="" [formGroup]="CalculMontant">
  <div class="inputCalcul flex justify-center gap-4">
    <div class="remise h-10">
      <div class="titleInput h-10 text-white bg-red-800 from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 font-medium text-sm px-5 py-2.5 text-center">
        remise
      </div>
      <div class="valeurInput h-10">
        <input (input)="calculeRemise($event)" type="number" formControlName="reduction" id="visitors" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-20 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 h-full" placeholder="" required>
      </div>
    </div>
    <div class="remise h-10">
      <div class="h-10 text-white bg-green-800 from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 font-medium text-sm px-5 py-2.5 text-center">
        Montant Total
      </div>
      <div class="valeurInput h-full">
        <input type="number" formControlName="montant" id="visitors" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-40 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 h-full" value="{{montantTotalduProduit}}" readonly required>
      </div>
    </div>

    <button data-modal-target="authentication-modal" data-modal-toggle="authentication-modal" class="relative inline-flex items-center justify-start py-3 pl-4 pr-12 overflow-hidden font-semibold text-indigo-600 transition-all duration-150 ease-in-out rounded hover:pl-10 hover:pr-6 bg-purples group h-10" (click)="openModalFunc()">
      <span class="absolute bottom-0 left-0 w-full h-1 transition-all duration-150 ease-in-out bg-indigo-600 group-hover:h-full"></span>
      <span class="absolute right-0 pr-4 duration-200 ease-out group-hover:translate-x-12">
      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
      </span>
      <span class="absolute left-0 pl-2.5 -translate-x-12 group-hover:translate-x-0 ease-out duration-200">
      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
      </span>
      <span class="relative w-full text-white text-left transition-colors duration-200 ease-in-out group-hover:text-white">Suivant</span>
    </button>
  </div>
</form>




<!-- Main modal -->
<div *ngIf="openModal"  class="fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full" style="width: 100%; height: 100%; background: rgba(0, 0, 0, 0.512);">
    <div class="relative w-full max-w-md max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700" style="position: relative; left: 100%;">
            <button (click)="closeModalFunc()" type="button" class="absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="authentication-modal">
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                </svg>
                <span class="sr-only">Close modal</span>
            </button>
            <div class="px-6 py-6 lg:px-8">
                <h3 class="mb-4 text-xl font-medium text-gray-900 dark:text-white">Terminer le paiement</h3>
                <h1 class="">Montant net a payer: <span>{{montantTotalduProduit}}</span></h1>
                <form class="space-y-6" action="#" [formGroup]="paiementCommande">
                    <div>
                        <label for="Reçu" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Prix Reçu</label>
                        <input type="number" formControlName="montant_payer" name="prixReçu" id="prixReçu" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" (input)="calculeMontantDonnee($event)" placeholder="prix donnée" required>
                    </div>
                    <div>
                        <label for="rendre" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Rendre</label>
                        <input type="number" name="rendre" id="rendre" placeholder="prix a rendre" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" value="{{montantAremis}}" readonly required>
                    </div>
                    <div class="button flex gap-2">
                    <button  type="button" class="w-full text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Sans Facture</button>
                    <button (click)="closeModalFunc()" type="button" class="w-full text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:red-blue-600 dark:hover:bg-red-700 dark:focus:ring-red-800">Annuler</button>
                    <button  (click)="TerminerLePaiement()" type="button" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Facture</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>





<div *ngIf="notification" class="fixed top-0 left-0 right-0 z-50 w-full h-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full" style="background: rgba(0, 0, 0, 0.451);">
  <div class="w-full max-w-sm mx-auto my-2 overflow-hidden rounded shadow-sm">
      <div class="relative flex items-center justify-between px-2 py-2 font-bold text-white bg-green-500 rounded-t">
          <div class="relative flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                  class="inline w-6 h-6 mr-2 opacity-75">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <span>Reussite</span>
          </div>
          <span (click)="closeNotification()" class="relative">
              <svg class="w-5 h-5 text-green-300 fill-current hover:text-white" role="button"
                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                  <title>Close</title>
                  <path
                      d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
              </svg>
          </span>
      </div>
      <div class="p-3 bg-white border border-gray-300 rounded-b shadow-lg">
          <span class="block text-gray-600">Commande passer avec Succées!</span>
      </div>
  </div>
</div>


